<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JET 1.1 | Job Engine Transformation</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root{--bg:#f8fafc;--card:#ffffff;--accent:#2563eb;--success:#059669;--warning:#d97706;--danger:#dc2626;--text:#0f172a;--text-dim:#64748b;--border:#e2e8f0;--new:#7c3aed;--applied:#10b981;}
        *{box-sizing:border-box;margin:0;padding:0;}
        body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;}
        .header{background:var(--card);border-bottom:1px solid var(--border);padding:16px 24px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;z-index:100;}
        .logo{font-size:1.5rem;font-weight:800;color:var(--accent);}
        .logo span{color:var(--text-dim);font-weight:500;font-size:0.85rem;margin-left:8px;}
        .header-stats{display:flex;gap:32px;}
        .header-stat{text-align:center;}
        .header-stat-val{font-size:1.8rem;font-weight:800;}
        .header-stat-label{font-size:0.65rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:0.5px;}
        .container{display:flex;min-height:calc(100vh - 65px);}
        .sidebar{width:220px;background:var(--card);border-right:1px solid var(--border);padding:16px 0;}
        .nav-section{padding:8px 16px;font-size:0.65rem;color:var(--text-dim);text-transform:uppercase;letter-spacing:1px;margin-top:16px;}
        .nav-item{padding:12px 20px;font-size:0.85rem;cursor:pointer;color:var(--text-dim);display:flex;align-items:center;gap:10px;transition:0.2s;border-left:3px solid transparent;}
        .nav-item:hover,.nav-item.active{background:#f1f5f9;color:var(--accent);border-left-color:var(--accent);}
        .nav-badge{background:var(--danger);color:white;font-size:0.6rem;padding:2px 8px;border-radius:10px;margin-left:auto;}
        .nav-badge.success{background:var(--success);}
        .nav-badge.warning{background:var(--warning);}
        .main{flex:1;padding:24px;overflow-y:auto;}
        .tabs{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap;}
        .tab{padding:8px 20px;background:var(--card);border:1px solid var(--border);border-radius:20px;font-size:0.8rem;cursor:pointer;transition:0.2s;font-weight:500;}
        .tab:hover{border-color:var(--accent);}
        .tab.active{background:var(--accent);color:white;border-color:var(--accent);}
        .filter-bar{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center;}
        .filter-select{padding:10px 14px;border:1px solid var(--border);border-radius:8px;font-size:0.8rem;background:var(--card);min-width:140px;}
        .search-box{padding:10px 14px;border:1px solid var(--border);border-radius:8px;font-size:0.8rem;flex:1;min-width:200px;}
        .jobs-grid{display:grid;grid-template-columns:1fr 420px;gap:24px;}
        .job-list{display:flex;flex-direction:column;gap:12px;}
        .job-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px;cursor:pointer;transition:0.2s;position:relative;}
        .job-card:hover{border-color:var(--accent);box-shadow:0 4px 12px rgba(37,99,235,0.08);}
        .job-card.selected{border-color:var(--accent);box-shadow:0 4px 16px rgba(37,99,235,0.12);}
        .job-card.new{border-left:4px solid var(--new);}
        .job-card.applied{border-left:4px solid var(--applied);background:linear-gradient(135deg,#f0fdf4 0%,#ffffff 100%);}
        .job-card.applied .job-title{color:var(--applied);}
        .job-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;}
        .job-title{font-weight:700;font-size:1rem;color:var(--text);}
        .job-company{font-size:0.85rem;color:var(--text-dim);margin-top:4px;}
        .badge{display:inline-block;padding:4px 12px;border-radius:12px;font-size:0.7rem;font-weight:600;}
        .badge-new{background:#ede9fe;color:var(--new);}
        .badge-applied{background:#dcfce7;color:var(--success);}
        .badge-interview{background:#dbeafe;color:var(--accent);}
        .job-meta{display:flex;gap:16px;font-size:0.75rem;color:var(--text-dim);margin:12px 0;}
        .job-meta span{display:flex;align-items:center;gap:4px;}
        .score-bars{display:flex;gap:20px;margin-top:14px;}
        .score-bar{flex:1;}
        .score-label{font-size:0.65rem;color:var(--text-dim);margin-bottom:4px;display:flex;justify-content:space-between;}
        .score-track{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden;}
        .score-fill{height:100%;border-radius:4px;}
        .score-fill.fit{background:linear-gradient(90deg,#3b82f6,#2563eb);}
        .score-fill.win{background:linear-gradient(90deg,#10b981,#059669);}
        .job-tags{display:flex;gap:6px;flex-wrap:wrap;margin-top:12px;}
        .job-tag{padding:4px 10px;background:#f1f5f9;border-radius:6px;font-size:0.7rem;color:var(--text-dim);}
        .detail-panel{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px;position:sticky;top:90px;max-height:calc(100vh - 130px);overflow-y:auto;}
        .detail-title{font-size:1.3rem;font-weight:700;margin-bottom:4px;}
        .detail-company{font-size:0.95rem;color:var(--text-dim);margin-bottom:20px;}
        .detail-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:24px;}
        .detail-item{background:#f8fafc;padding:14px;border-radius:10px;}
        .detail-item-label{font-size:0.65rem;color:var(--text-dim);text-transform:uppercase;margin-bottom:4px;letter-spacing:0.5px;}
        .detail-item-val{font-size:0.9rem;font-weight:600;}
        .section-title{font-size:0.7rem;text-transform:uppercase;color:var(--text-dim);margin:20px 0 10px;font-weight:600;letter-spacing:1px;}
        .score-section{margin-bottom:24px;}
        .score-row{display:flex;align-items:center;gap:12px;margin-bottom:10px;}
        .score-row-label{width:110px;font-size:0.85rem;}
        .score-row-bar{flex:1;height:10px;background:#e2e8f0;border-radius:5px;overflow:hidden;}
        .score-row-fill{height:100%;border-radius:5px;}
        .score-row-val{width:50px;text-align:right;font-weight:700;font-size:0.9rem;}
        .highlight-list{display:flex;flex-direction:column;gap:8px;}
        .highlight-item{display:flex;align-items:center;gap:10px;font-size:0.9rem;padding:8px 0;}
        .highlight-check{color:var(--success);font-size:1.1rem;}
        .btn{padding:14px 24px;border-radius:10px;border:none;cursor:pointer;font-size:0.9rem;font-weight:600;transition:0.2s;width:100%;margin-top:8px;}
        .btn-primary{background:var(--accent);color:white;}
        .btn-primary:hover{background:#1d4ed8;transform:translateY(-1px);}
        .btn-success{background:var(--success);color:white;}
        .btn-success:hover{background:#047857;}
        .btn-outline{background:transparent;border:1px solid var(--border);color:var(--text);}
        .btn-outline:hover{border-color:var(--accent);color:var(--accent);}
        .btn:disabled{opacity:0.5;cursor:not-allowed;}
        .panel{display:none;}.panel.active{display:block;}
        .stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px;}
        .stat-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:24px;text-align:center;}
        .stat-val{font-size:2.5rem;font-weight:800;}
        .stat-label{font-size:0.75rem;color:var(--text-dim);text-transform:uppercase;margin-top:8px;letter-spacing:0.5px;}
        .modal-overlay{display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.5);z-index:1000;justify-content:center;align-items:center;}
        .modal-overlay.active{display:flex;}
        .modal{background:var(--card);border-radius:16px;padding:28px;width:600px;max-width:90%;max-height:90vh;overflow-y:auto;}
        .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;}
        .modal-title{font-size:1.2rem;font-weight:700;}
        .modal-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-dim);}
        .asset-option{display:flex;align-items:center;justify-content:space-between;padding:16px;background:#f8fafc;border-radius:12px;margin-bottom:12px;cursor:pointer;border:2px solid transparent;transition:0.2s;}
        .asset-option:hover{border-color:#cbd5e1;}
        .asset-option.selected{border-color:var(--accent);background:#eff6ff;}
        .asset-info{display:flex;align-items:center;gap:14px;}
        .asset-icon{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;}
        .asset-name{font-weight:600;font-size:0.95rem;}
        .asset-desc{font-size:0.75rem;color:var(--text-dim);margin-top:2px;}
        .source-tag{font-size:0.65rem;padding:3px 8px;border-radius:4px;font-weight:600;}
        .source-linkedin{background:#0077b520;color:#0077b5;}
        .source-seek{background:#ff5a0020;color:#ff5a00;}
        .source-indeed{background:#2164f320;color:#2164f3;}
        .source-direct{background:#05966920;color:#059669;}
        .empty-state{text-align:center;padding:60px 20px;color:var(--text-dim);}
        .empty-state h3{margin-bottom:8px;color:var(--text);}
        .status-applied{display:inline-flex;align-items:center;gap:6px;background:#dcfce7;color:var(--success);padding:6px 12px;border-radius:8px;font-size:0.75rem;font-weight:600;}
        .download-list{background:#f0fdf4;border-radius:12px;padding:16px;margin-top:16px;}
        .download-item{display:flex;align-items:center;justify-content:space-between;padding:10px;background:white;border-radius:8px;margin-bottom:8px;}
        .download-item:last-child{margin-bottom:0;}
        .download-btn{background:var(--accent);color:white;border:none;padding:8px 16px;border-radius:6px;font-size:0.8rem;cursor:pointer;font-weight:600;}
        .download-btn:hover{background:#1d4ed8;}
        .toast{position:fixed;bottom:24px;right:24px;background:var(--success);color:white;padding:16px 24px;border-radius:12px;font-weight:600;z-index:2000;display:none;animation:slideIn 0.3s ease;}
        @keyframes slideIn{from{transform:translateX(100px);opacity:0;}to{transform:translateX(0);opacity:1;}}
        @media(max-width:1200px){.jobs-grid{grid-template-columns:1fr;}.detail-panel{display:none;}}
        @media(max-width:768px){.sidebar{display:none;}.header-stats{gap:16px;}.stats-grid{grid-template-columns:repeat(2,1fr);}}
    </style>
</head>
<body>
<div class="header">
    <div class="logo">JET<span>1.1 | Job Engine Transformation</span></div>
    <div class="header-stats">
        <div class="header-stat"><div class="header-stat-val" id="total-jobs">48</div><div class="header-stat-label">Total Jobs</div></div>
        <div class="header-stat"><div class="header-stat-val" style="color:var(--success);" id="applied-count">0</div><div class="header-stat-label">Applied</div></div>
        <div class="header-stat"><div class="header-stat-val" style="color:var(--new);" id="new-today">24</div><div class="header-stat-label">New Today</div></div>
    </div>
</div>
<div class="container">
    <div class="sidebar">
        <div class="nav-section">Command</div>
        <div class="nav-item active" onclick="showPanel('jobs')">üéØ Job Queue<span class="nav-badge" id="nav-queue">48</span></div>
        <div class="nav-section">Track</div>
        <div class="nav-item" onclick="showPanel('applied')">‚úâÔ∏è Applied<span class="nav-badge success" id="nav-applied">0</span></div>
        <div class="nav-item" onclick="showPanel('downloads')">üì• Downloads<span class="nav-badge warning" id="nav-downloads">0</span></div>
        <div class="nav-section">Analyze</div>
        <div class="nav-item" onclick="showPanel('analytics')">üìà Analytics</div>
    </div>
    <div class="main">
        <!-- JOBS PANEL -->
        <div id="jobs" class="panel active">
            <div class="tabs">
                <div class="tab active" onclick="filterByTab('all')">All Jobs (<span id="tab-all">48</span>)</div>
                <div class="tab" onclick="filterByTab('new')">New (<span id="tab-new">24</span>)</div>
                <div class="tab" onclick="filterByTab('applied')">Applied (<span id="tab-applied">0</span>)</div>
                <div class="tab" onclick="filterByTab('executive')">Executive</div>
                <div class="tab" onclick="filterByTab('ai')">AI/ML</div>
            </div>
            <div class="filter-bar">
                <input type="text" class="search-box" placeholder="Search jobs, companies..." id="job-search" oninput="filterJobs()">
                <select class="filter-select" id="source-filter" onchange="filterJobs()">
                    <option value="">All Sources</option>
                    <option value="linkedin">LinkedIn</option>
                    <option value="seek">SEEK</option>
                    <option value="indeed">Indeed</option>
                    <option value="direct">Direct</option>
                </select>
                <select class="filter-select" id="fit-filter" onchange="filterJobs()">
                    <option value="">All Fit Scores</option>
                    <option value="90">90%+ Fit</option>
                    <option value="85">85%+ Fit</option>
                </select>
            </div>
            <div class="jobs-grid">
                <div class="job-list" id="job-list"></div>
                <div class="detail-panel" id="detail-panel">
                    <div class="empty-state">
                        <h3>Select a job</h3>
                        <p>Click on a job to see details</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- APPLIED PANEL -->
        <div id="applied" class="panel">
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-val" id="applied-total">0</div><div class="stat-label">Total Applied</div></div>
                <div class="stat-card"><div class="stat-val" id="assets-generated">0</div><div class="stat-label">Assets Generated</div></div>
                <div class="stat-card"><div class="stat-val" style="color:var(--accent);">0%</div><div class="stat-label">Response Rate</div></div>
                <div class="stat-card"><div class="stat-val">-</div><div class="stat-label">Avg Days</div></div>
            </div>
            <div id="applied-list"></div>
        </div>

        <!-- DOWNLOADS PANEL -->
        <div id="downloads" class="panel">
            <h2 style="margin-bottom:20px;">üì• Generated Application Assets</h2>
            <div id="downloads-list">
                <div class="empty-state">
                    <h3>No downloads yet</h3>
                    <p>Generate assets for a job to see them here</p>
                </div>
            </div>
        </div>

        <!-- ANALYTICS PANEL -->
        <div id="analytics" class="panel">
            <div class="stats-grid">
                <div class="stat-card"><div class="stat-val">48</div><div class="stat-label">Jobs Tracked</div></div>
                <div class="stat-card"><div class="stat-val">89%</div><div class="stat-label">Avg Fit Score</div></div>
                <div class="stat-card"><div class="stat-val">76%</div><div class="stat-label">Avg Win %</div></div>
                <div class="stat-card"><div class="stat-val">4</div><div class="stat-label">Sources</div></div>
            </div>
        </div>
    </div>
</div>

<!-- GENERATE ASSETS MODAL -->
<div class="modal-overlay" id="generate-modal">
    <div class="modal">
        <div class="modal-header">
            <span class="modal-title">Generate Application Assets</span>
            <button class="modal-close" onclick="closeModal('generate-modal')">&times;</button>
        </div>
        <div id="modal-job-info" style="background:#f8fafc;padding:16px;border-radius:10px;margin-bottom:20px;">
            <div style="font-weight:700;font-size:1.1rem;" id="modal-role"></div>
            <div style="color:var(--text-dim);margin-top:4px;" id="modal-company"></div>
        </div>
        <div style="margin-bottom:20px;">
            <div class="asset-option selected" onclick="toggleAsset(this,'cv')">
                <div class="asset-info">
                    <div class="asset-icon" style="background:#dbeafe;">üìÑ</div>
                    <div><div class="asset-name">Tailored CV</div><div class="asset-desc">Skills matched to job requirements</div></div>
                </div>
                <input type="checkbox" checked id="asset-cv" style="width:20px;height:20px;">
            </div>
            <div class="asset-option selected" onclick="toggleAsset(this,'cover')">
                <div class="asset-info">
                    <div class="asset-icon" style="background:#dcfce7;">‚úâÔ∏è</div>
                    <div><div class="asset-name">Cover Letter</div><div class="asset-desc">Personalized to company and role</div></div>
                </div>
                <input type="checkbox" checked id="asset-cover" style="width:20px;height:20px;">
            </div>
            <div class="asset-option" onclick="toggleAsset(this,'kit')">
                <div class="asset-info">
                    <div class="asset-icon" style="background:#fef3c7;">üì¶</div>
                    <div><div class="asset-name">Application Kit</div><div class="asset-desc">Full package with interview prep</div></div>
                </div>
                <input type="checkbox" id="asset-kit" style="width:20px;height:20px;">
            </div>
            <div class="asset-option" onclick="toggleAsset(this,'linkedin')">
                <div class="asset-info">
                    <div class="asset-icon" style="background:#ede9fe;">üí¨</div>
                    <div><div class="asset-name">LinkedIn Message</div><div class="asset-desc">Connection request template</div></div>
                </div>
                <input type="checkbox" id="asset-linkedin" style="width:20px;height:20px;">
            </div>
        </div>
        <button class="btn btn-primary" id="generate-btn" onclick="generateAssets()">üöÄ Generate & Mark Applied</button>
        <button class="btn btn-outline" onclick="closeModal('generate-modal')">Cancel</button>
    </div>
</div>

<!-- SUCCESS MODAL -->
<div class="modal-overlay" id="success-modal">
    <div class="modal">
        <div style="text-align:center;padding:20px;">
            <div style="font-size:4rem;margin-bottom:16px;">‚úÖ</div>
            <h2 style="margin-bottom:8px;">Assets Generated!</h2>
            <p style="color:var(--text-dim);margin-bottom:24px;" id="success-job-name"></p>
        </div>
        <div class="download-list" id="generated-files"></div>
        <button class="btn btn-success" onclick="closeModal('success-modal')" style="margin-top:20px;">Done - View Next Job</button>
    </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script>
// JOB DATA WITH STATUS TRACKING
var JOBS = [
    {id:1,title:"Chief Technology Officer",company:"Partale Talent",location:"Macquarie Park, NSW",salary:"$350,000 - $400,000 + Super",source:"linkedin",posted:"4 weeks ago",isNew:false,fit:94,win:82,cluster:"Executive C-Suite",highlights:["Digital transformation","Enterprise architecture","Executive leadership"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:2,title:"Chief Information Officer",company:"Medecins Sans Frontieres",location:"Sydney, NSW",salary:"$280,000 - $320,000",source:"linkedin",posted:"5 days ago",isNew:true,fit:88,win:75,cluster:"Executive C-Suite",highlights:["Global operations","IT strategy","NGO sector"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:3,title:"Chief Information Security Officer",company:"RONIN Dynamics",location:"Sydney, NSW",salary:"$300,000 - $350,000",source:"linkedin",posted:"1 day ago",isNew:true,fit:82,win:70,cluster:"Cybersecurity Leadership",highlights:["Security strategy","Risk management","Executive"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:4,title:"CTO - Digital Transformation",company:"Reserve Bank of Australia",location:"Sydney, NSW",salary:"$380,000 - $450,000 + Super",source:"seek",posted:"2 days ago",isNew:true,fit:96,win:85,cluster:"Executive C-Suite",highlights:["Technical strategy","Governance model","Enterprise architecture"],url:"https://www.seek.com.au",status:"new"},
    {id:5,title:"CTO - Enterprise Modernisation",company:"Major Financial Services",location:"Sydney/Melbourne",salary:"$400,000 - $500,000",source:"seek",posted:"3 days ago",isNew:true,fit:92,win:80,cluster:"Executive C-Suite",highlights:["Cloud modernisation","Executive leadership","Hybrid work"],url:"https://www.seek.com.au",status:"new"},
    {id:6,title:"Head of Artificial Intelligence",company:"Morgan McKinley",location:"Sydney, NSW",salary:"$280,000 - $350,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:98,win:88,cluster:"AI Leadership",highlights:["AI strategy","Team leadership","Enterprise AI"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:7,title:"Head of AI & Automation",company:"AustralianSuper",location:"Melbourne, VIC",salary:"$300,000 - $380,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:94,win:82,cluster:"AI Leadership",highlights:["Automation strategy","Super fund","AI transformation"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:8,title:"Head of AI",company:"EML Group",location:"Sydney, NSW",salary:"$260,000 - $320,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:92,win:78,cluster:"AI Leadership",highlights:["Insurance tech","ML implementation","Data strategy"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:9,title:"Director of AI",company:"Start2Scale",location:"Sydney, NSW",salary:"$250,000 - $300,000",source:"linkedin",posted:"1 month ago",isNew:false,fit:90,win:76,cluster:"AI Leadership",highlights:["Startup","AI products","Growth stage"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:10,title:"Head of AI Ecosystem",company:"UNSW",location:"Sydney, NSW",salary:"$220,000 - $280,000",source:"linkedin",posted:"5 days ago",isNew:true,fit:88,win:74,cluster:"AI Leadership",highlights:["Academic","Research","AI partnerships"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:11,title:"Commercial Director APAC - Data & AI",company:"Endava",location:"Sydney, NSW",salary:"$320,000 - $400,000",source:"linkedin",posted:"5 days ago",isNew:true,fit:91,win:79,cluster:"AI Leadership",highlights:["Commercial growth","APAC region","Data consulting"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:12,title:"Consulting Director - AI & Data Analytics",company:"Deloitte",location:"Sydney, NSW",salary:"$280,000 - $350,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:93,win:81,cluster:"Consulting & Advisory",highlights:["Big 4","AI consulting","Client delivery"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:13,title:"Director - Generative AI",company:"Major Bank",location:"Sydney, NSW",salary:"$300,000 - $380,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:95,win:83,cluster:"AI Leadership",highlights:["GenAI strategy","Banking","Enterprise"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:14,title:"Principal Engineer - Generative AI",company:"Tech Company",location:"Sydney, NSW",salary:"$250,000 - $300,000",source:"linkedin",posted:"6 days ago",isNew:true,fit:86,win:72,cluster:"AI Platforms",highlights:["Hands-on AI","Architecture","GenAI"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:15,title:"Director - Technology & Digital",company:"KFC South Pacific",location:"Frenchs Forest, NSW",salary:"$280,000 - $350,000",source:"linkedin",posted:"3 weeks ago",isNew:false,fit:87,win:73,cluster:"Transformation Leadership",highlights:["Retail tech","Digital strategy","Regional role"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:16,title:"Digital Transformation Director",company:"Omnicom Media Group",location:"Sydney, NSW",salary:"$260,000 - $320,000",source:"seek",posted:"1 week ago",isNew:true,fit:89,win:76,cluster:"Transformation Leadership",highlights:["Data maturity","Media industry","Client advisory"],url:"https://www.seek.com.au",status:"new"},
    {id:17,title:"Head of Digital Transformation",company:"NSW Government",location:"Sydney, NSW",salary:"$250,000 - $300,000 + Super",source:"linkedin",posted:"2 days ago",isNew:true,fit:91,win:78,cluster:"Transformation Leadership",highlights:["Public sector","Digital strategy","Government"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:18,title:"CX and Digital Transformation Lead",company:"Enterprise Company",location:"Sydney, NSW",salary:"$280,000 + Super",source:"seek",posted:"4 days ago",isNew:true,fit:88,win:75,cluster:"Transformation Leadership",highlights:["Customer experience","Digital","Enterprise"],url:"https://www.seek.com.au",status:"new"},
    {id:19,title:"AI Transformation Lead",company:"Major Organisation",location:"Sydney, NSW",salary:"$240,000 - $300,000",source:"seek",posted:"1 week ago",isNew:true,fit:94,win:82,cluster:"AI Leadership",highlights:["AI adoption","Transformation","Change management"],url:"https://www.seek.com.au",status:"new"},
    {id:20,title:"Senior Digital Product Manager",company:"Sharp & Carter",location:"Sydney, NSW (Hybrid)",salary:"$170,000 - $190,000 + Super + Bonus",source:"seek",posted:"8 days ago",isNew:true,fit:92,win:78,cluster:"Product Leadership",highlights:["Standalone strategic role","Digital strategy & roadmap","Disruptive Fintech Brand"],url:"https://www.seek.com.au",status:"new"},
    {id:21,title:"Product Manager - Payments",company:"Major Australian Bank",location:"Sydney, NSW",salary:"$180,000 - $210,000",source:"seek",posted:"2 days ago",isNew:true,fit:90,win:75,cluster:"Product Leadership",highlights:["Merchant payments","Banking","Fintech"],url:"https://www.seek.com.au",status:"new"},
    {id:22,title:"Senior Product Manager - Payee Validation",company:"Commonwealth Bank",location:"Sydney, NSW",salary:"$190,000 - $220,000",source:"seek",posted:"Recent",isNew:true,fit:87,win:68,cluster:"Product Leadership",highlights:["Payee Validation","Major bank","Payments"],url:"https://www.seek.com.au",status:"new"},
    {id:23,title:"Senior Product Manager - Renewable Energy",company:"Plenti Group",location:"Sydney, NSW",salary:"$180,000 - $220,000",source:"indeed",posted:"1 week ago",isNew:true,fit:85,win:70,cluster:"Product Leadership",highlights:["ASX-listed fintech","Renewable Energy product","$2.5B loan portfolio"],url:"https://au.indeed.com",status:"new"},
    {id:24,title:"Senior Product Manager - Payments Platform",company:"Macquarie Group",location:"Sydney, NSW",salary:"$200,000 - $250,000",source:"indeed",posted:"3 days ago",isNew:true,fit:88,win:74,cluster:"Product Leadership",highlights:["New Payments Platform","2030 BECS migration","Strategic roadmap"],url:"https://au.indeed.com",status:"new"},
    {id:25,title:"Vice President of Software Engineering",company:"DroneShield",location:"Sydney, NSW",salary:"$300,000 - $380,000",source:"linkedin",posted:"2 weeks ago",isNew:false,fit:84,win:70,cluster:"Engineering Leadership",highlights:["Defence tech","Software leadership","Growth company"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:26,title:"CTO-as-a-Service",company:"Government Agency",location:"Canberra, ACT",salary:"$400,000 - $500,000",source:"seek",posted:"1 week ago",isNew:true,fit:90,win:78,cluster:"Executive C-Suite",highlights:["Government","Consulting","Executive CTO"],url:"https://www.seek.com.au",status:"new"},
    {id:27,title:"Chief Data Officer",company:"AGI Insurance",location:"Sydney, NSW",salary:"$320,000 - $400,000",source:"seek",posted:"4 days ago",isNew:true,fit:89,win:76,cluster:"Data Leadership",highlights:["Group insurance","Data strategy","Executive team"],url:"https://www.seek.com.au",status:"new"},
    {id:28,title:"Partner Technology Strategy",company:"Big 4 Consulting",location:"Sydney, NSW",salary:"$400,000 - $600,000",source:"linkedin",posted:"2 weeks ago",isNew:false,fit:91,win:80,cluster:"Consulting & Advisory",highlights:["Partner level","Technology strategy","Client relationships"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:29,title:"Managing Director - AI Advisory",company:"Accenture",location:"Sydney, NSW",salary:"$350,000 - $450,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:93,win:82,cluster:"Consulting & Advisory",highlights:["AI practice","Managing Director","Client delivery"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:30,title:"Digital, Data, Cloud & AI - Director",company:"Major Consultancy",location:"Sydney, NSW",salary:"$280,000 - $350,000",source:"linkedin",posted:"4 weeks ago",isNew:false,fit:92,win:79,cluster:"Consulting & Advisory",highlights:["Multiple domains","Director level","Consulting"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:31,title:"Chief Platform Officer",company:"Tech Scale-up",location:"Sydney, NSW",salary:"$300,000 - $380,000",source:"direct",posted:"3 days ago",isNew:true,fit:94,win:81,cluster:"Platform Leadership",highlights:["Platform strategy","API-first","Scale-up"],url:"direct",status:"new"},
    {id:32,title:"Head of Enterprise Architecture",company:"Telstra",location:"Sydney, NSW",salary:"$280,000 - $340,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:91,win:78,cluster:"Architecture Leadership",highlights:["Enterprise architecture","Telco","Multi-cloud"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:33,title:"Principal Architect - Cloud",company:"AWS",location:"Sydney, NSW",salary:"$300,000 - $380,000",source:"linkedin",posted:"5 days ago",isNew:true,fit:88,win:75,cluster:"Architecture Leadership",highlights:["AWS","Cloud architecture","Customer-facing"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:34,title:"Head of Machine Learning",company:"Atlassian",location:"Sydney, NSW",salary:"$320,000 - $400,000",source:"linkedin",posted:"2 weeks ago",isNew:false,fit:89,win:76,cluster:"AI Leadership",highlights:["ML strategy","Product company","Team leadership"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:35,title:"Head of Responsible AI",company:"NAB",location:"Melbourne/Sydney",salary:"$280,000 - $350,000",source:"seek",posted:"1 week ago",isNew:true,fit:96,win:84,cluster:"AI Governance",highlights:["AI ethics","Banking","Governance"],url:"https://www.seek.com.au",status:"new"},
    {id:36,title:"Director AI Engineering",company:"Canva",location:"Sydney, NSW",salary:"$350,000 - $450,000",source:"linkedin",posted:"3 days ago",isNew:true,fit:90,win:78,cluster:"AI Leadership",highlights:["AI products","Scale","Innovation"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:37,title:"Board Technology Advisor",company:"ASX Company",location:"Sydney, NSW",salary:"$150,000 - $200,000 (Board)",source:"direct",posted:"1 week ago",isNew:true,fit:94,win:82,cluster:"Advisory & Governance",highlights:["Board position","Tech advisory","Governance"],url:"direct",status:"new"},
    {id:38,title:"Non-Executive Director - Technology",company:"Government Board",location:"Sydney, NSW",salary:"$80,000 - $120,000 (NED)",source:"direct",posted:"2 weeks ago",isNew:false,fit:92,win:80,cluster:"Advisory & Governance",highlights:["NED role","Government","Technology governance"],url:"direct",status:"ready"},
    {id:39,title:"Head of Product - AI Platform",company:"Afterpay",location:"Sydney, NSW",salary:"$280,000 - $350,000",source:"linkedin",posted:"4 days ago",isNew:true,fit:91,win:78,cluster:"Product Leadership",highlights:["AI platform","Fintech","Product strategy"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:40,title:"Director of Product - Digital Banking",company:"Westpac",location:"Sydney, NSW",salary:"$260,000 - $320,000",source:"seek",posted:"5 days ago",isNew:true,fit:88,win:74,cluster:"Product Leadership",highlights:["Digital banking","Product leadership","Major bank"],url:"https://www.seek.com.au",status:"new"},
    {id:41,title:"Field CTO - ANZ",company:"Salesforce",location:"Sydney, NSW",salary:"$350,000 - $450,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:97,win:86,cluster:"CTO Office",highlights:["Customer-facing","Advisory","Enterprise sales"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:42,title:"Customer CTO",company:"Microsoft",location:"Sydney, NSW",salary:"$320,000 - $400,000",source:"linkedin",posted:"2 weeks ago",isNew:false,fit:95,win:84,cluster:"CTO Office",highlights:["Customer success","Technical strategy","Enterprise"],url:"https://au.linkedin.com/jobs",status:"ready"},
    {id:43,title:"Solutions CTO",company:"Google Cloud",location:"Sydney, NSW",salary:"$380,000 - $480,000",source:"linkedin",posted:"3 days ago",isNew:true,fit:94,win:82,cluster:"CTO Office",highlights:["Cloud solutions","Customer engagement","Pre-sales"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:44,title:"Chief Digital Officer",company:"NSW Department of Customer Service",location:"Sydney, NSW",salary:"$300,000 - $380,000 + Super",source:"seek",posted:"1 week ago",isNew:true,fit:90,win:77,cluster:"Public Sector Leadership",highlights:["Government","Digital services","Citizen experience"],url:"https://www.seek.com.au",status:"new"},
    {id:45,title:"Executive Director - Technology",company:"Department of Defence",location:"Canberra, ACT",salary:"$320,000 - $400,000",source:"direct",posted:"2 weeks ago",isNew:false,fit:88,win:75,cluster:"Public Sector Leadership",highlights:["Defence","Executive","Technology policy"],url:"direct",status:"ready"},
    {id:46,title:"Chief Innovation Officer",company:"Insurance Australia Group",location:"Sydney, NSW",salary:"$350,000 - $450,000",source:"seek",posted:"4 days ago",isNew:true,fit:89,win:76,cluster:"Strategy & Foresight",highlights:["Innovation strategy","Insurance","Executive team"],url:"https://www.seek.com.au",status:"new"},
    {id:47,title:"Head of Innovation & Emerging Tech",company:"Woolworths Group",location:"Sydney, NSW",salary:"$280,000 - $350,000",source:"linkedin",posted:"1 week ago",isNew:true,fit:86,win:73,cluster:"Strategy & Foresight",highlights:["Retail","Innovation","Emerging technology"],url:"https://au.linkedin.com/jobs",status:"new"},
    {id:48,title:"VP Strategy & Transformation",company:"Tech Unicorn",location:"Sydney, NSW",salary:"$300,000 - $400,000",source:"direct",posted:"5 days ago",isNew:true,fit:91,win:79,cluster:"Transformation Leadership",highlights:["Strategy","Transformation","High-growth"],url:"direct",status:"new"}
];

// DOWNLOADS STORAGE
var DOWNLOADS = [];
var currentJobId = null;
var currentTab = 'all';

// SAVE TO LOCALSTORAGE
function saveState() {
    localStorage.setItem('jet_jobs', JSON.stringify(JOBS));
    localStorage.setItem('jet_downloads', JSON.stringify(DOWNLOADS));
}

function loadState() {
    var savedJobs = localStorage.getItem('jet_jobs');
    var savedDownloads = localStorage.getItem('jet_downloads');
    if (savedJobs) JOBS = JSON.parse(savedJobs);
    if (savedDownloads) DOWNLOADS = JSON.parse(savedDownloads);
}

// NAVIGATION
function showPanel(id) {
    document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    event.target.closest('.nav-item').classList.add('active');

    if (id === 'applied') renderAppliedPanel();
    if (id === 'downloads') renderDownloadsPanel();
}

function filterByTab(tab) {
    currentTab = tab;
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    event.target.classList.add('active');
    filterJobs();
}

// MODALS
function openModal(id) { document.getElementById(id).classList.add('active'); }
function closeModal(id) { document.getElementById(id).classList.remove('active'); }

function toggleAsset(el, type) {
    el.classList.toggle('selected');
    document.getElementById('asset-' + type).checked = el.classList.contains('selected');
}

function openGenerateModal(jobId) {
    currentJobId = jobId;
    var job = JOBS.find(j => j.id === jobId);
    if (job) {
        document.getElementById('modal-role').textContent = job.title;
        document.getElementById('modal-company').textContent = job.company + ' | ' + job.location;

        // Update button text based on status
        var btn = document.getElementById('generate-btn');
        if (job.status === 'applied') {
            btn.textContent = 'üìÑ Re-generate Assets';
        } else {
            btn.textContent = 'üöÄ Generate & Mark Applied';
        }
    }
    openModal('generate-modal');
}

function showToast(message) {
    var toast = document.getElementById('toast');
    toast.textContent = message;
    toast.style.display = 'block';
    setTimeout(() => { toast.style.display = 'none'; }, 3000);
}

// GENERATE ASSETS - THE KEY FUNCTION
function generateAssets() {
    var job = JOBS.find(j => j.id === currentJobId);
    if (!job) return;

    var selected = [];
    if (document.getElementById('asset-cv').checked) selected.push('cv');
    if (document.getElementById('asset-cover').checked) selected.push('cover');
    if (document.getElementById('asset-kit').checked) selected.push('kit');
    if (document.getElementById('asset-linkedin').checked) selected.push('linkedin');

    if (selected.length === 0) {
        alert('Please select at least one asset to generate');
        return;
    }

    // Update job status
    job.status = 'applied';
    job.appliedDate = new Date().toLocaleDateString();
    job.assets = selected;

    // Generate download entries
    var timestamp = Date.now();
    var safeCompany = job.company.replace(/[^a-zA-Z0-9]/g, '_');
    var safeTitle = job.title.replace(/[^a-zA-Z0-9]/g, '_');

    var newDownloads = [];

    selected.forEach(type => {
        var filename, content, label;

        switch(type) {
            case 'cv':
                filename = 'CV_' + safeCompany + '_' + safeTitle + '.txt';
                label = 'Tailored CV';
                content = generateCVContent(job);
                break;
            case 'cover':
                filename = 'CoverLetter_' + safeCompany + '.txt';
                label = 'Cover Letter';
                content = generateCoverContent(job);
                break;
            case 'kit':
                filename = 'ApplicationKit_' + safeCompany + '.txt';
                label = 'Application Kit';
                content = generateKitContent(job);
                break;
            case 'linkedin':
                filename = 'LinkedIn_' + safeCompany + '.txt';
                label = 'LinkedIn Message';
                content = generateLinkedInContent(job);
                break;
        }

        newDownloads.push({
            id: timestamp + '_' + type,
            jobId: job.id,
            jobTitle: job.title,
            company: job.company,
            type: type,
            label: label,
            filename: filename,
            content: content,
            created: new Date().toISOString()
        });
    });

    DOWNLOADS = DOWNLOADS.concat(newDownloads);
    saveState();
    updateCounts();

    // Close generate modal
    closeModal('generate-modal');

    // Show success modal with downloads
    document.getElementById('success-job-name').textContent = job.title + ' at ' + job.company;

    var filesHtml = '';
    newDownloads.forEach(d => {
        filesHtml += '<div class="download-item">';
        filesHtml += '<span>' + d.label + '</span>';
        filesHtml += '<button class="download-btn" onclick="downloadFile(\'' + d.id + '\')">‚¨á Download</button>';
        filesHtml += '</div>';
    });
    document.getElementById('generated-files').innerHTML = filesHtml;

    openModal('success-modal');

    // Re-render job list to show new status
    filterJobs();
    if (currentJobId) selectJob(currentJobId);
}

// CONTENT GENERATORS
function generateCVContent(job) {
    return `TROY LATTER - TAILORED CV
==============================
Role: ${job.title}
Company: ${job.company}
Generated: ${new Date().toLocaleDateString()}

EXECUTIVE SUMMARY
-----------------
Customer-facing technology executive with 20+ years architecting enterprise transformation.
Proven track record of building $100M+ pipelines, driving AI adoption programs, and serving
as trusted advisor to C-suite executives.

KEY SKILLS MATCHED TO ${job.company.toUpperCase()}
-------------------------------------------------
${job.highlights.map(h => '‚Ä¢ ' + h).join('\n')}
- AI Strategy & Transformation
- Enterprise Architecture (AWS, Azure, GCP, Oracle)
- Pipeline Building ($100M+ at AWS, $60M at Unisys)
- Executive Advisory & Stakeholder Engagement

PROFESSIONAL EXPERIENCE
-----------------------
UNISYS CORPORATION | Solutions Engineering Lead / Field CTO | 2023-2025
- Owned $60M pipeline, delivered executive foresight briefs to Defence and Government
- Led ChatGPT Enterprise and AWS Bedrock pilots for enterprise AI adoption
- Created presales playbooks increasing win rate by 30%

AMAZON WEB SERVICES (AWS) | Principal Solutions Architect | 2020-2023
- Built $100M+ pipeline through strategic customer engagement across JAPAC
- Keynote speaker at AWS re:Invent on AI and cloud transformation
- Designed co-sell programs with Oracle and NVIDIA

DATACOM | AI Evangelist | 2023
- Market creation role establishing AI practice
- Product enablement across sales teams

ORACLE CORPORATION | Regional CTO / Cybersecurity Director ASEAN | 2016-2020
- Directed cyber operations across ASEAN region
- Architected hybrid cloud solutions for government ministries

ADVISORY POSITIONS
------------------
- Tech4Humanity AI Hub - Governance Lead (2024-Present)
- Standards Australia - AI Standards Committee (2024-Present)

EDUCATION & CERTIFICATIONS
--------------------------
- AWS Certified Solutions Architect - Professional
- Prosci Change Management Certification
- TOGAF 9 Certified Enterprise Architect
- Bachelor of IT - University of Technology Sydney

---
Generated by JET 1.1 | Fit Score: ${job.fit}% | Win Likelihood: ${job.win}%`;
}

function generateCoverContent(job) {
    return `COVER LETTER
============
${job.title} at ${job.company}
Generated: ${new Date().toLocaleDateString()}

Dear Hiring Manager,

I am writing to express my strong interest in the ${job.title} position at ${job.company}.
With 20+ years of experience in customer-facing technology leadership, I am confident I can
deliver immediate value to your team.

WHY ${job.company.toUpperCase()}
${'‚îÄ'.repeat(job.company.length + 4)}
Your focus on ${job.highlights[0]} directly aligns with my experience at AWS and Unisys,
where I built $100M+ pipelines by helping enterprise customers navigate their technology
transformation journeys.

WHAT I BRING
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
- Proven Pipeline Builder: $100M+ at AWS, $60M at Unisys
- AI Transformation Expert: Led ChatGPT Enterprise and Bedrock pilots
- Executive Advisor: Delivered C-suite foresight briefs to Defence, Government, Finance
- Immediate Impact: Existing relationships across ANZ enterprise accounts

I would welcome the opportunity to discuss how my experience can contribute to
${job.company}'s continued growth.

Warm regards,
Troy Latter

---
Generated by JET 1.1 | Fit Score: ${job.fit}% | Win Likelihood: ${job.win}%`;
}

function generateKitContent(job) {
    return `APPLICATION KIT
===============
${job.title} at ${job.company}
Generated: ${new Date().toLocaleDateString()}

ROLE ANALYSIS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Company: ${job.company}
Role: ${job.title}
Location: ${job.location}
Salary: ${job.salary || 'Not disclosed'}
Cluster: ${job.cluster}
Fit Score: ${job.fit}%
Win Likelihood: ${job.win}%

KEY HIGHLIGHTS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${job.highlights.map(h => '‚úì ' + h).join('\n')}

INTERVIEW PREPARATION
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

Q: "Why ${job.company}?"
A: Your focus on ${job.highlights[0]} aligns with my passion for driving meaningful
   technology transformation. I've built my career helping enterprises achieve exactly
   what ${job.company} is pursuing.

Q: "What would you do in the first 90 days?"
A: Week 1-2: Deep dive on products, processes, team dynamics
   Week 3-4: Shadow top performers, understand winning patterns
   Month 2: Engage 10 strategic accounts, identify transformation opportunities
   Month 3: Deliver first executive briefings, contribute to strategy

Q: "Tell me about building pipeline."
A: At AWS, I built $100M+ pipeline by focusing on customer outcomes, not technology
   features. I created innovation workshops, brought multi-disciplinary teams to
   strategic engagements, and positioned solutions as transformation partnerships.

NEXT STEPS
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
[ ] Apply via ${job.source}
[ ] Research hiring manager on LinkedIn
[ ] Prepare 3 questions about company strategy
[ ] Review recent ${job.company} news

---
Generated by JET 1.1 | Priority: ${job.fit >= 95 ? '1 (Highest)' : job.fit >= 90 ? '2 (High)' : '3 (Medium)'}`;
}

function generateLinkedInContent(job) {
    return `LINKEDIN MESSAGE TEMPLATES
==========================
${job.title} at ${job.company}
Generated: ${new Date().toLocaleDateString()}

CONNECTION REQUEST (300 chars max)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Hi [Name], I saw the ${job.title} role at ${job.company} and was excited - it's
exactly what I've been building toward. I've spent 5 years in customer-facing CTO
roles at AWS and Unisys. Would love to connect.

INMAIL MESSAGE
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Subject: ${job.title} - Experienced Field CTO Leader

Hi [Name],

I noticed the ${job.title} position and was immediately drawn to it. Having spent
the last 5 years as a customer-facing technology leader at AWS and Unisys, I've
built $100M+ pipelines by helping enterprise customers navigate their AI and cloud
transformation journeys.

What excites me about ${job.company}:
- ${job.highlights[0]} - directly aligned with my experience
- ${job.highlights[1]} - proven track record here
- The opportunity to drive meaningful impact at scale

I'd welcome 15 minutes to discuss how my experience could contribute to
${job.company}'s growth. Would you be open to a brief call?

Best regards,
Troy Latter

FOLLOW-UP MESSAGE
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Hi [Name],

I wanted to follow up on my application for ${job.title}. Since applying, I've
been reflecting on why this role feels like the natural next step - ${job.highlights[0]}
is exactly the challenge I want to tackle next.

Happy to provide any additional information. Looking forward to hearing from you.

Best,
Troy

---
Generated by JET 1.1 | Source: ${job.source.toUpperCase()}`;
}

// DOWNLOAD FUNCTION
function downloadFile(downloadId) {
    var download = DOWNLOADS.find(d => d.id === downloadId);
    if (!download) return;

    var blob = new Blob([download.content], {type: 'text/plain'});
    var url = URL.createObjectURL(blob);
    var a = document.createElement('a');
    a.href = url;
    a.download = download.filename;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);

    showToast('Downloaded: ' + download.filename);
}

// UPDATE COUNTS
function updateCounts() {
    var applied = JOBS.filter(j => j.status === 'applied').length;
    var newJobs = JOBS.filter(j => j.isNew && j.status !== 'applied').length;

    document.getElementById('applied-count').textContent = applied;
    document.getElementById('new-today').textContent = newJobs;
    document.getElementById('nav-applied').textContent = applied;
    document.getElementById('nav-queue').textContent = JOBS.filter(j => j.status !== 'applied').length;
    document.getElementById('nav-downloads').textContent = DOWNLOADS.length;
    document.getElementById('tab-applied').textContent = applied;
    document.getElementById('tab-all').textContent = JOBS.length;
    document.getElementById('tab-new').textContent = newJobs;
}

// RENDER JOB LIST
function filterJobs() {
    var search = document.getElementById('job-search').value.toLowerCase();
    var sourceFilter = document.getElementById('source-filter').value;
    var fitFilter = parseInt(document.getElementById('fit-filter').value) || 0;

    var filtered = JOBS.filter(j => {
        if (search && !j.title.toLowerCase().includes(search) && !j.company.toLowerCase().includes(search)) return false;
        if (sourceFilter && j.source !== sourceFilter) return false;
        if (fitFilter && j.fit < fitFilter) return false;

        if (currentTab === 'new' && (j.status === 'applied' || !j.isNew)) return false;
        if (currentTab === 'applied' && j.status !== 'applied') return false;
        if (currentTab === 'executive' && !j.cluster.includes('C-Suite') && !j.cluster.includes('Executive') && !j.cluster.includes('CTO')) return false;
        if (currentTab === 'ai' && !j.cluster.includes('AI') && !j.title.toLowerCase().includes('ai')) return false;

        return true;
    });

    filtered.sort((a, b) => b.fit - a.fit);
    renderJobList(filtered);
}

function renderJobList(jobs) {
    var html = '';
    jobs.forEach(j => {
        var sourceClass = 'source-' + j.source;
        var statusBadge = '';
        var cardClass = 'job-card';

        if (j.status === 'applied') {
            statusBadge = '<span class="badge badge-applied">‚úì APPLIED</span>';
            cardClass += ' applied';
        } else if (j.isNew) {
            statusBadge = '<span class="badge badge-new">NEW</span>';
            cardClass += ' new';
        }

        var fitColor = j.fit >= 90 ? 'var(--success)' : j.fit >= 85 ? 'var(--accent)' : 'var(--warning)';
        var winColor = j.win >= 80 ? 'var(--success)' : j.win >= 70 ? 'var(--accent)' : 'var(--warning)';

        html += '<div class="' + cardClass + '" onclick="selectJob(' + j.id + ')">';
        html += '<div class="job-header">';
        html += '<div><div class="job-title">' + j.title + ' ' + statusBadge + '</div>';
        html += '<div class="job-company">' + j.company + '</div></div>';
        html += '<span class="source-tag ' + sourceClass + '">' + j.source.toUpperCase() + '</span>';
        html += '</div>';
        html += '<div class="job-meta">';
        html += '<span>üìç ' + j.location + '</span>';
        html += '<span>üïê ' + j.posted + '</span>';
        html += '</div>';
        if (j.salary) {
            html += '<div style="font-size:0.8rem;color:var(--success);font-weight:600;margin:8px 0;">' + j.salary + '</div>';
        }
        html += '<div class="score-bars">';
        html += '<div class="score-bar"><div class="score-label"><span>Fit</span><span style="font-weight:700;color:' + fitColor + '">' + j.fit + '%</span></div>';
        html += '<div class="score-track"><div class="score-fill fit" style="width:' + j.fit + '%"></div></div></div>';
        html += '<div class="score-bar"><div class="score-label"><span>Win%</span><span style="font-weight:700;color:' + winColor + '">' + j.win + '%</span></div>';
        html += '<div class="score-track"><div class="score-fill win" style="width:' + j.win + '%"></div></div></div>';
        html += '</div>';
        html += '<div class="job-tags">';
        j.highlights.slice(0, 3).forEach(h => {
            html += '<span class="job-tag">' + h + '</span>';
        });
        html += '</div></div>';
    });

    document.getElementById('job-list').innerHTML = html || '<div class="empty-state"><h3>No jobs match filters</h3></div>';
}

function selectJob(id) {
    currentJobId = id;
    document.querySelectorAll('.job-card').forEach(c => c.classList.remove('selected'));
    if (event && event.currentTarget) event.currentTarget.classList.add('selected');

    var job = JOBS.find(j => j.id === id);
    if (!job) return;

    var fitColor = job.fit >= 90 ? 'var(--success)' : job.fit >= 85 ? 'var(--accent)' : 'var(--warning)';
    var winColor = job.win >= 80 ? 'var(--success)' : job.win >= 70 ? 'var(--accent)' : 'var(--warning)';

    var statusHtml = '';
    if (job.status === 'applied') {
        statusHtml = '<div class="status-applied" style="margin-bottom:16px;">‚úì Applied ' + (job.appliedDate || '') + '</div>';
    }

    var html = statusHtml;
    html += '<div class="detail-title">' + job.title + '</div>';
    html += '<div class="detail-company">' + job.company + '</div>';

    html += '<div class="detail-grid">';
    html += '<div class="detail-item"><div class="detail-item-label">Location</div><div class="detail-item-val">' + job.location + '</div></div>';
    html += '<div class="detail-item"><div class="detail-item-label">Salary</div><div class="detail-item-val">' + (job.salary || 'Not disclosed') + '</div></div>';
    html += '<div class="detail-item"><div class="detail-item-label">Posted</div><div class="detail-item-val">' + job.posted + '</div></div>';
    html += '<div class="detail-item"><div class="detail-item-label">Source</div><div class="detail-item-val">' + job.source.toUpperCase() + '</div></div>';
    html += '</div>';

    html += '<div class="section-title">Scoring</div>';
    html += '<div class="score-section">';
    html += '<div class="score-row"><div class="score-row-label">Role Fit</div>';
    html += '<div class="score-row-bar"><div class="score-row-fill" style="width:' + job.fit + '%;background:' + fitColor + '"></div></div>';
    html += '<div class="score-row-val" style="color:' + fitColor + '">' + job.fit + '%</div></div>';
    html += '<div class="score-row"><div class="score-row-label">Win Likelihood</div>';
    html += '<div class="score-row-bar"><div class="score-row-fill" style="width:' + job.win + '%;background:' + winColor + '"></div></div>';
    html += '<div class="score-row-val" style="color:' + winColor + '">' + job.win + '%</div></div>';
    html += '</div>';

    html += '<div class="section-title">Key Highlights</div>';
    html += '<div class="highlight-list">';
    job.highlights.forEach(h => {
        html += '<div class="highlight-item"><span class="highlight-check">‚úì</span>' + h + '</div>';
    });
    html += '</div>';

    var btnText = job.status === 'applied' ? 'üìÑ Re-generate Assets' : 'üöÄ Generate Application Assets';
    var btnClass = job.status === 'applied' ? 'btn btn-outline' : 'btn btn-primary';

    html += '<button class="' + btnClass + '" onclick="openGenerateModal(' + job.id + ')">' + btnText + '</button>';
    html += '<a href="' + job.url + '" target="_blank" class="btn btn-outline" style="display:block;text-align:center;text-decoration:none;margin-top:8px;">View Original Listing ‚Üí</a>';

    document.getElementById('detail-panel').innerHTML = html;
}

// RENDER PANELS
function renderAppliedPanel() {
    var applied = JOBS.filter(j => j.status === 'applied');
    document.getElementById('applied-total').textContent = applied.length;
    document.getElementById('assets-generated').textContent = DOWNLOADS.length;

    var html = '';
    applied.forEach(j => {
        html += '<div style="background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px;margin-bottom:12px;display:flex;justify-content:space-between;align-items:center;">';
        html += '<div><div style="font-weight:600;">' + j.title + '</div>';
        html += '<div style="color:var(--text-dim);font-size:0.85rem;">' + j.company + ' | Applied ' + (j.appliedDate || 'recently') + '</div></div>';
        html += '<div style="display:flex;gap:8px;">';
        html += '<button class="download-btn" onclick="openGenerateModal(' + j.id + ')">üìÑ Assets</button>';
        html += '</div></div>';
    });

    document.getElementById('applied-list').innerHTML = html || '<div class="empty-state"><h3>No applications yet</h3><p>Generate assets for a job to mark it as applied</p></div>';
}

function renderDownloadsPanel() {
    if (DOWNLOADS.length === 0) {
        document.getElementById('downloads-list').innerHTML = '<div class="empty-state"><h3>No downloads yet</h3><p>Generate assets for a job to see them here</p></div>';
        return;
    }

    // Group by job
    var byJob = {};
    DOWNLOADS.forEach(d => {
        if (!byJob[d.jobId]) byJob[d.jobId] = { job: d, files: [] };
        byJob[d.jobId].files.push(d);
    });

    var html = '';
    Object.values(byJob).forEach(group => {
        html += '<div style="background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:16px;">';
        html += '<div style="font-weight:700;margin-bottom:4px;">' + group.job.jobTitle + '</div>';
        html += '<div style="color:var(--text-dim);font-size:0.85rem;margin-bottom:16px;">' + group.job.company + '</div>';
        html += '<div style="display:flex;flex-wrap:wrap;gap:8px;">';
        group.files.forEach(f => {
            html += '<button class="download-btn" onclick="downloadFile(\'' + f.id + '\')">' + f.label + '</button>';
        });
        html += '</div></div>';
    });

    document.getElementById('downloads-list').innerHTML = html;
}

// INIT
document.addEventListener('DOMContentLoaded', () => {
    loadState();
    updateCounts();
    filterJobs();
});
</script>
</body>
</html>
